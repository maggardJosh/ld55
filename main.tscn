[gd_scene load_steps=21 format=3 uid="uid://c1e2254bs6m3e"]

[ext_resource type="PackedScene" uid="uid://mnaxd41w2loc" path="res://player.tscn" id="1_rotku"]
[ext_resource type="Script" path="res://Water.gd" id="2_imxiw"]
[ext_resource type="PackedScene" uid="uid://cjiok5o0qam3w" path="res://ui.tscn" id="3_0cdyn"]
[ext_resource type="Script" path="res://WaterArea.gd" id="3_58cow"]
[ext_resource type="PackedScene" uid="uid://b1tw6cgdbe6r7" path="res://biome.tscn" id="5_18gyt"]
[ext_resource type="PackedScene" uid="uid://bpdlhgmmoy15j" path="res://portal.tscn" id="5_ekxwn"]
[ext_resource type="Script" path="res://OxygenArea.gd" id="5_ghrk7"]
[ext_resource type="Script" path="res://InnerAirArea.gd" id="8_7dvb7"]
[ext_resource type="Script" path="res://PolygonWithCollision.gd" id="8_w2ktp"]
[ext_resource type="PackedScene" uid="uid://daco7mvhk2p22" path="res://items/pickups/fish/orange_fish.tscn" id="9_najt1"]
[ext_resource type="PackedScene" uid="uid://df5bp6u57j3ny" path="res://items/pickups/fish/red_fish.tscn" id="12_tt2ek"]
[ext_resource type="PackedScene" uid="uid://b440huetpsjvh" path="res://items/pickups/flower_pickup.tscn" id="13_e6f26"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_as6lo"]
size = Vector2(3343, 227)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_hxn7y"]
size = Vector2(3711, 898)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_t2dco"]
size = Vector2(5782.5, 1362)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_wau00"]
size = Vector2(787, 626)

[sub_resource type="ShaderMaterial" id="ShaderMaterial_sylxd"]

[sub_resource type="Curve" id="Curve_0m4yk"]
_data = [Vector2(0, 0), 0.0, 0.0, 0, 0, Vector2(1, 1), 0.0, 0.0, 0, 0]
point_count = 2

[sub_resource type="RectangleShape2D" id="RectangleShape2D_8xvdo"]
size = Vector2(10982, 735)

[sub_resource type="PhysicsMaterial" id="PhysicsMaterial_ywnst"]
rough = true

[node name="Main" type="Node2D"]

[node name="UI" parent="." instance=ExtResource("3_0cdyn")]
visible = false

[node name="SpawnPoint" type="Marker2D" parent="."]
position = Vector2(-170, -27)

[node name="Player" parent="." node_paths=PackedStringArray("spawn_point") instance=ExtResource("1_rotku")]
position = Vector2(-145, -19)
spawn_point = NodePath("../SpawnPoint")

[node name="Biomes" type="Node2D" parent="."]
visible = false
z_index = 1

[node name="NormalBiome" parent="Biomes" instance=ExtResource("5_18gyt")]
collision_layer = 0
collision_mask = 2

[node name="CollisionShape2D" type="CollisionShape2D" parent="Biomes/NormalBiome"]
position = Vector2(-242.5, 113.5)
shape = SubResource("RectangleShape2D_as6lo")
debug_color = Color(0.666667, 0.933333, 1, 0.419608)

[node name="DarkBiome" parent="Biomes" instance=ExtResource("5_18gyt")]
position = Vector2(-549, 688)
collision_layer = 0
collision_mask = 2
water_bg_color = Color(0.235294, 0.290196, 0.721569, 1)
water_color = Color(0.184314, 0.223529, 0.592157, 0.682353)

[node name="CollisionShape2D2" type="CollisionShape2D" parent="Biomes/DarkBiome"]
position = Vector2(469.5, 9)
shape = SubResource("RectangleShape2D_hxn7y")
debug_color = Color(0.666667, 0.933333, 1, 0.419608)

[node name="DarkBiome2" parent="Biomes" instance=ExtResource("5_18gyt")]
position = Vector2(-1918, 594)
collision_layer = 0
collision_mask = 2
water_bg_color = Color(0.160784, 0.2, 0.537255, 1)
water_color = Color(0.12549, 0.152941, 0.435294, 0.784314)

[node name="CollisionShape2D2" type="CollisionShape2D" parent="Biomes/DarkBiome2"]
position = Vector2(1921.25, 1274)
shape = SubResource("RectangleShape2D_t2dco")
debug_color = Color(0.666667, 0.933333, 1, 0.419608)

[node name="SecretBiome1" parent="Biomes" instance=ExtResource("5_18gyt")]
position = Vector2(-4252, 1741)
collision_layer = 0
collision_mask = 2
water_bg_color = Color(0.0980392, 0.529412, 0.396078, 1)
water_color = Color(0.054902, 0.403922, 0.352941, 0.662745)

[node name="CollisionShape2D2" type="CollisionShape2D" parent="Biomes/SecretBiome1"]
position = Vector2(-226.5, 37)
shape = SubResource("RectangleShape2D_wau00")
debug_color = Color(0.666667, 0.933333, 1, 0.419608)

[node name="Water" type="Polygon2D" parent="." node_paths=PackedStringArray("default_biome")]
z_index = 1
material = SubResource("ShaderMaterial_sylxd")
color = Color(0.262745, 0.317647, 0.768627, 0.501961)
polygon = PackedVector2Array(1920, 0, 1463, -10, -5857, 0, -6180, 675, -5440, 3257, -2795, 3363, 4967, 3000, 3840, -64, 1920, 0, 1886, 606, 2218, 800, 1446, 800, 1381, 689, 1562, 596, 1886, 606)
script = ExtResource("2_imxiw")
default_biome = NodePath("../Biomes/NormalBiome")
biome_transition_time = 3.0
biome_transition_curve = SubResource("Curve_0m4yk")

[node name="WaterBG" type="Polygon2D" parent="Water"]
z_index = -2
material = SubResource("ShaderMaterial_sylxd")
color = Color(0.356863, 0.431373, 0.882353, 1)
polygon = PackedVector2Array(1920, 0, 1463, -10, -5857, 0, -6180, 675, -5440, 3257, -2795, 3363, 4967, 3000, 3840, -64, 1920, 0, 1886, 606, 2218, 800, 1446, 800, 1381, 689, 1562, 596, 1886, 606)

[node name="AirBG" type="Polygon2D" parent="Water"]
z_index = -3
material = SubResource("ShaderMaterial_sylxd")
color = Color(0.360784, 0.278431, 0.25098, 1)
polygon = PackedVector2Array(1413, 818, 1360, 677, 1579, 572, 1906, 588, 2247, 812)

[node name="Portal" parent="." instance=ExtResource("5_ekxwn")]
position = Vector2(-207, -33)

[node name="Areas" type="Node2D" parent="."]
visible = false

[node name="WaterArea" type="Area2D" parent="Areas"]
position = Vector2(0, 7)
collision_mask = 6
gravity_space_override = 3
gravity_point_center = Vector2(0, 0.2)
gravity_direction = Vector2(0, 0.2)
linear_damp_space_override = 3
linear_damp = 7.0
script = ExtResource("3_58cow")

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="Areas/WaterArea"]
z_index = 4
polygon = PackedVector2Array(4050, 0, -5857, 0, -6180, 675, -5440, 3257, -2795, 3363, 4967, 3000, 4062, -29)

[node name="OxygenArea" type="Area2D" parent="Areas"]
collision_mask = 2
script = ExtResource("5_ghrk7")

[node name="CollisionShape2D" type="CollisionShape2D" parent="Areas/OxygenArea"]
position = Vector2(-1482, -367.5)
shape = SubResource("RectangleShape2D_8xvdo")

[node name="OxygenArea3" type="Area2D" parent="Areas"]
position = Vector2(1787, 730)
collision_mask = 2
script = ExtResource("5_ghrk7")

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="Areas/OxygenArea3"]
polygon = PackedVector2Array(-359, 70, -431, -54, -188, -162, 154, -147, 466, 70)

[node name="InnerAirArea" type="Area2D" parent="Areas"]
position = Vector2(1567, 717)
collision_mask = 2
script = ExtResource("8_7dvb7")

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="Areas/InnerAirArea"]
polygon = PackedVector2Array(-128, 75, -196, -41, -9, -138, 341, -121, 666, 75)

[node name="World" type="Node2D" parent="."]

[node name="StartingIsland" type="StaticBody2D" parent="World"]
position = Vector2(-110, -8)
physics_material_override = SubResource("PhysicsMaterial_ywnst")

[node name="Polygon2D" type="Polygon2D" parent="World/StartingIsland"]
color = Color(0.321569, 0.192157, 0, 1)
polygon = PackedVector2Array(25, 0, 81, 33, 79, 45, 72, 67, 42, 79, -5, 65, -59, 57, -123, 69, -184, 110, -237, 121, -269, 98, -285, 64, -255, 19, -183, 0)
script = ExtResource("8_w2ktp")

[node name="Island2" type="StaticBody2D" parent="World"]
position = Vector2(-629, 115)
physics_material_override = SubResource("PhysicsMaterial_ywnst")

[node name="Polygon2D" type="Polygon2D" parent="World/Island2"]
color = Color(0.321569, 0.192157, 0, 1)
polygon = PackedVector2Array(25, 0, 81, 33, 120, 77, 94, 92, -5, 65, -59, 57, -123, 69, -381, 90, -499, 184, -546, 293, -874, 402, -1044, 405, -1142, 249, -907, 73, -743, 37, -510, 31, -398, -34, -225, -49)
script = ExtResource("8_w2ktp")

[node name="Island5" type="StaticBody2D" parent="World"]
position = Vector2(2160, -72)
physics_material_override = SubResource("PhysicsMaterial_ywnst")

[node name="Polygon2D" type="Polygon2D" parent="World/Island5"]
color = Color(0.321569, 0.192157, 0, 1)
polygon = PackedVector2Array(1088, 183, 523, 277, -127, 246, -499, 184, -789, 240, -915, 301, -1001, 341, -1080, 282, -1017, 156, -907, 73, -875, -20, -778, -631, -98, -782)
script = ExtResource("8_w2ktp")

[node name="Island3" type="StaticBody2D" parent="World"]
position = Vector2(-137, 358)
physics_material_override = SubResource("PhysicsMaterial_ywnst")

[node name="Polygon2D" type="Polygon2D" parent="World/Island3"]
color = Color(0.321569, 0.192157, 0, 1)
polygon = PackedVector2Array(28, -112, 193, -257, 345, -267, 712, -261, 822, -176, 1142, 40, 1150, 309, 1079, 389, 1040, 181, 947, 75, 739, 67, 626, 51, 563, 18, 318, -91, -6, 14)
script = ExtResource("8_w2ktp")

[node name="Island6" type="StaticBody2D" parent="World"]
position = Vector2(1232, 731)
physics_material_override = SubResource("PhysicsMaterial_ywnst")

[node name="Polygon2D" type="Polygon2D" parent="World/Island6"]
color = Color(0.321569, 0.192157, 0, 1)
polygon = PackedVector2Array(28, -112, 193, -257, 345, -267, 712, -261, 822, -176, 1142, 40, 1013, 85, 654, -125, 330, -135, 149, -42, 242, 116, 381, 183, 289, 234, 92, 162, -6, 14)
script = ExtResource("8_w2ktp")

[node name="Island4" type="StaticBody2D" parent="World"]
position = Vector2(-137, 358)
physics_material_override = SubResource("PhysicsMaterial_ywnst")

[node name="Polygon2D" type="Polygon2D" parent="World/Island4"]
color = Color(0.321569, 0.192157, 0, 1)
polygon = PackedVector2Array(-381, 90, -499, 184, -609, 294, -724, 474, -812, 711, -958, 725, -1181, 458, -1152, 223, -938, 79, -723, -19, -512, -32, -398, -34, -225, -49, -101, -61, -75, 43, -177, 89)
script = ExtResource("8_w2ktp")

[node name="Fish" type="Node2D" parent="World"]

[node name="Fish" parent="World/Fish" instance=ExtResource("9_najt1")]
position = Vector2(-232, 174)

[node name="Fish2" parent="World/Fish" instance=ExtResource("9_najt1")]
position = Vector2(-338, 226)

[node name="Fish3" parent="World/Fish" instance=ExtResource("9_najt1")]
position = Vector2(-110, 203)

[node name="Fauna" type="Node2D" parent="World"]

[node name="Flower" parent="World/Fauna" instance=ExtResource("13_e6f26")]
position = Vector2(-226, 59)
rotation = 2.87979

[node name="Flower4" parent="World/Fauna" instance=ExtResource("13_e6f26")]
position = Vector2(-117, 56)
rotation = 3.23792

[node name="Flower5" parent="World/Fauna" instance=ExtResource("13_e6f26")]
position = Vector2(-169, 48)
rotation = 3.16427

[node name="Flower6" parent="World/Fauna" instance=ExtResource("13_e6f26")]
position = Vector2(-664, 174)
rotation = 3.31727

[node name="Flower2" parent="World/Fauna" instance=ExtResource("13_e6f26")]
position = Vector2(-1008, 207)
rotation = 2.87979

[node name="Flower3" parent="World/Fauna" instance=ExtResource("13_e6f26")]
position = Vector2(-690, 171)
rotation = 3.12723

[node name="RedFish" parent="." instance=ExtResource("12_tt2ek")]
position = Vector2(28, 21)

[connection signal="body_entered" from="Areas/WaterArea" to="Areas/WaterArea" method="_on_body_entered"]
[connection signal="body_exited" from="Areas/WaterArea" to="Areas/WaterArea" method="_on_body_exited"]
